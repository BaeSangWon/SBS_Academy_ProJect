<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>호이스팅(Hoisting)</title>
</head>
<body>
    <h1>호이스팅(Hoisting)</h1>
    <textarea cols="150" rows="70">

            1. 호이스팅 : 자바스크립트의 특이한 특징 ?
            - 자바스크립트는 문서가 실행되면서 코드를 실행하기 전에 변수와 함수를 먼저 메모리에 저장해둔다
            - 이런 개념을 호이스팅이라고 한다
            - 함수가 실행되기 전에 안에 있는 변수들을 범위의 최상단으로 올리는 개념이 호이스팅이다

            2. let과 var의 차이
            - 2015년도에 자바스크립트가 ES6 문법으로 업그레이드 되면서 생겨난 것이 let이다
            - var의 문제점
            - ex) var a = 1;
                  console.log(a);
                  문제 없는 코드이다
                  
                  console.log(a);
                  var a = 1;
                  console.log(a);
                  라고 입력되면 undefined라는 코드가 먼저 나오게 된다
                  말이 안되는 코드 같지만, 콘솔창에 출력하기 전에 V8엔진이 선언된 변수 a를 먼저 읽어들이기 때문에
                  오류가 아니라 undefined(찾을 수 없음)라는 문구로 출력 된다
                  자바스크립트에서 호이스팅을 할 때에 변수의 선언과 초기화를 같이 시켜버린다
                  그리고서 할당은 나중에 실제 코드에서 변수가 선언되어질 때 할당하게 된다

                  console.log(a);
                  a = 1;
                  var a;
                  console.log(a);
                  이것 또한 말도 안되는 코드 같지만, 자바스크립트는 이를 이해한다
                  결론 1) 자바스크립트는 매우 유한 언어이다. 허용범위가 크다
                          var의 문제점이 더 있다면 지역변수와 전역변수의 개념이 확실하지 않다는 점이다
                          var의 문제점 마지막으로는 중복선언을 허용한다는 점이 있다

                          var a = 1;
                          console.log(a);
                          var a = 2;
                          console.log(a);
                          말도 안되는 코드 같지만, 자바스크립트는 이를 허용해 준다

            - 위에서 언급된 var의 문제점들이 엄청나기 때문에 let을 만들게 되었다
            - 실제 2015년 이후 var보다 let을 사용해 줄 것을 적극적으로 권장하고 있다
            - 논리적이고 상식적으로 작성된 코드라면 var를 let으로 바꾸었을 때 아무런 문제가 없어야 한다
            - let은 Temporal Death Zone(TDZ)라는 개념을 만들었다
              호이스팅이 이루어진 후에 선언되어진 변수라는 것은 알고 있지만, 실제 변수가 선언되어지기 전이라면 오류를 일으킨다
              호출되기 전이니까 '호출되어지면 사용하겠다' 라는 느낌이라고 이해하면 좋다.

            3. 이 모든 이야기들의 결론 ..... !!!!!
          
            ※ 전역변수 : 블럭 밖에서 아무것도 없이 그냥 선언되어진 변수, 어디에서나 접근 할 수 있고, 사용할 수 있는 변수
            ※ 지역변수 : 함수나 기타 등등 블럭 범위의 안에서 선언되어진 변수, 해당되는 지역 안에서만 쓸 수 있는 변수

    </textarea>
    <h1>var를 쓰지말고 let을 사용하자 !!</h1>
    <script>
        function foo(){
            var a = 2;
        }

        console.log(a);
    </script>
</body>
</html>